var redis      = require("redis"),
    utils      = require("./lib/utils.js"),
    listname   = process.argv[2];
    validLists = ["watchlist", "emaillist", "slackloglist", "slackalertlist"];

function showlist (listname) {
	var client = redis.createClient();

	client.get (listname, function (err, reply) {
		if (reply != null) {
			var list = JSON.parse(reply.toString());
			
			for (i = 0; i < list.length; i++) {
				console.log (list[i]);
			}
		} else {
			console.log ("no " + listname + " found");
		}

		client.quit();
	});
}

if (utils.inArray (listname, validLists)) {
	showlist (listname);
} else {
	console.log ("Error: '" + listname + "' is not a valid list name please use " + validLists);
}